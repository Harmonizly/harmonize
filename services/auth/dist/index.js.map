{"version":3,"sources":["webpack:///webpack/bootstrap 06a36d932fbabf12e6b1","webpack:///external \"react\"","webpack:///./src/server/utils/logger.js","webpack:///external \"config\"","webpack:///./src/server/exception/codes.js","webpack:///./src/server/passport/index.js","webpack:///./src/lib/seraph-adapter.js","webpack:///./src/server/db/neo4j.js","webpack:///./src/server/exception/index.js","webpack:///./src/server/models/user.js","webpack:///external \"process\"","webpack:///external \"react-router\"","webpack:///./src/server/main.js","webpack:///external \"babel-polyfill\"","webpack:///./src/client/app.js","webpack:///./src/client/pages/error/400.js","webpack:///./src/client/pages/error/401.js","webpack:///./src/client/pages/error/403.js","webpack:///./src/client/pages/error/404.js","webpack:///./src/client/pages/error/500.js","webpack:///./src/client/pages/login.js","webpack:///./src/client/pages/password/reset.js","webpack:///./src/client/pages/password/resetRequest.js","webpack:///./src/client/routes.js","webpack:///./src/lib/openApi.js","webpack:///./src/server/controllers/facebook.js","webpack:///./src/server/controllers/index.js","webpack:///./src/server/controllers/login.js","webpack:///./src/server/controllers/password.js","webpack:///./src/server/controllers/user.js","webpack:///./src/server/middleware/error.js","webpack:///./src/server/middleware/logging.js","webpack:///./src/server/middleware/render.js","webpack:///./src/server/models/facebook.js","webpack:///./src/server/passport/facebook.js","webpack:///./src/server/passport/local.js","webpack:///./static/index.html","webpack:///./config/swagger.yaml","webpack:///external \"bcrypt\"","webpack:///external \"body-parser\"","webpack:///external \"bunyan\"","webpack:///external \"bunyan-cloudwatch\"","webpack:///external \"bunyan-newrelic-stream\"","webpack:///external \"connect-flash-plus\"","webpack:///external \"express\"","webpack:///external \"express-es6-template-engine\"","webpack:///external \"fs\"","webpack:///external \"https\"","webpack:///external \"passport\"","webpack:///external \"passport-facebook\"","webpack:///external \"passport-local\"","webpack:///external \"react-dom/server\"","webpack:///external \"seraph\"","webpack:///external \"seraph-model\"","webpack:///external \"uuid/v4\""],"names":["instance","Logger","loggers","init","get","loggersConfig","loggerConfig","handlersConfig","forEach","obj","Object","assign","name","toLowerCase","stream","logger","createLogger","loadStreams","env","NODE_ENV","streams","level","type","loggerName","streamsConfig","streamConfig","logStreamName","pid","addStream","FATAL_ERROR","status","code","category","message","GENERAL_ERROR","extra","NOT_YET_IMPLEMENTED","ILLEGAL_STATE_EXCEPTION","NOT_AUTHORIZED","NOT_ALLOWED","MISSING_REQUIRED_PARAMETER","MISSING_USERNAME_PARAMETER","MISSING_OAUTH_TOKEN_PARAMETER","MISSING_CLIENT_ID_PARAMETER","MISSING_PROFILE_PARAMETER","MODEL_NOT_FOUND","CLIENT_NOT_FOUND","CLIENT_MISSING_CLIENT_URL","USER_NOT_FOUND","GOOGLE_ACCOUNT_NOT_FOUND","FACEBOOK_ACCOUNT_NOT_FOUND","INSTAGRAM_ACCOUNT_NOT_FOUND","TWITTER_ACCOUNT_NOT_FOUND","GOOGLE_ACCOUNT_NOT_LINKABLE","GOOGLE_ACCOUNT_LINKED","FACEBOOK_ACCOUNT_NOT_LINKABLE","FACEBOOK_ACCOUNT_LINKED","INSTAGRAM_ACCOUNT_NOT_LINKABLE","INSTAGRAM_ACCOUNT_LINKED","TWITTER_ACCOUNT_EXISTS","TWITTER_ACCOUNT_LINKED","FACEBOOK_ACCOUNT_NOT_CONFIGURED","SOCIAL_OATUH_NOT_CONFIGURED","MODEL_NOT_UPDATED","MODEL_NOT_CREATED","VALIDATION_ERROR","PASSPORT_CONFIG","auth","passport","LOGGER","use","facebook","google","instagram","local","serializeUser","user","done","id","deserializeUser","where","driver","Cls","exists","idOrObject","Promise","resolve","reject","prototype","err","result","findAll","opts","results","prepare","data","push","root","compName","object","query","params","read","save","saveComposition","objects","update","validate","predicate","dbConfig","db","server","endpoint","pass","password","Exception","payload","Error","handleAuthError","e","error","User","schema","email","required","lastPasswordUpdate","username","setUniqueKey","useTimestamps","beforeSave","hashPassword","hash","verifyPassword","didNeedUpdate","plainText","saltRounds","verified","compare","controllers","Server","config","app","configure","boundSigIntHandler","sigIntHandler","on","boundUncaughtExceptionHandler","unhandledExceptionHandler","destroy","removeEventListeners","initMiddleware","assetsConfig","assets","static","staticRoot","distRoot","urlencoded","extended","json","unsafe","initialize","session","all","request","response","render","start","callback","cb","info","startHttps","startHttp","console","exit","listen","next","secure","redirect","hostname","url","sslConfig","httpsConfig","key","readFileSync","cert","createServer","stop","close","port","removeListener","App","Component","Error400","Error401","Error403","Error404","Error500","Login","PasswordReset","PasswordResetRequest","openApi","definion","log","authenticateAccount","authenticate","scope","authenticateAccountCallback","failureRedirect","failureFlash","connectAccount","authorize","connectAccountCallback","client","login","send","logout","resetPassword","list","register","unregister","errorMiddleware","loggingMiddleware","method","headers","renderMiddleware","context","markup","renderToString","html","locals","FacebookAccount","profile","connect","account","relate","to","relationship","getConnectedUser","relationships","handler","authFacebookAccount","facebookAccount","linkedUser","connectFacebookAccount","accessToken","refreshToken","warn","validPassword"],"mappings":"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;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACjoBA,mC;;;;;;ACAA,wC;;;;;;ACAA,mC;;;;;;ACAA,8C;;;;;;ACAA,mD;;;;;;ACAA,+C;;;;;;ACAA,oC;;;;;;ACAA,wD;;;;;;ACAA,+B;;;;;;ACAA,kC;;;;;;ACAA,qC;;;;;;ACAA,8C;;;;;;ACAA,2C;;;;;;ACAA,6C;;;;;;ACAA,mC;;;;;;ACAA,yC;;;;;;ACAA,oC","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 57);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 06a36d932fbabf12e6b1","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","import bunyan from 'bunyan';\nimport config from 'config';\nimport createCWStream from 'bunyan-cloudwatch';\nimport NewRelicStream from 'bunyan-newrelic-stream';\nimport process from 'process';\nimport uuidv4 from 'uuid/v4';\n\nlet instance: Object | null = null;\n\n/**\n * Class representing Logger\n */\nexport default class Logger {\n\n  loggers: Object = {};\n\n  /**\n   * Instantiates instance or returns previous one if it already exists\n   * @return { Object } Instance of the Logger class by calling init method\n   */\n  constructor(): Object {\n    if (instance == null) {\n      this.init(config.get('loggers'));\n      instance = this;\n    }\n    return instance;\n  }\n\n  /**\n   * Initialization method which sets logger using provided confing and depending on an environment\n   * @param { Object } loggersConfig - Configuration options for logger\n   */\n  init(loggersConfig: Object): void {\n    let loggerConfig;\n    const handlersConfig = loggersConfig.get('handlers');\n    handlersConfig.forEach((obj) => {\n      loggerConfig = Object.assign({}, obj);\n      const name = loggerConfig.name.toLowerCase();\n      const stream = loggerConfig.stream;\n\n      delete loggerConfig.stream;\n      const logger: Object = bunyan.createLogger(loggerConfig);\n\n      this.loadStreams(logger, stream, loggersConfig.get('streams'));\n      this.loggers[name] = logger;\n    });\n\n    // Enable forwarding logged errors to Newrelic Reporting if the server is in a production environment\n    if (process.env.NODE_ENV === 'production') {\n      bunyan.createLogger({\n        name: 'arbiter',\n        streams: [{\n          level: 'error',\n          type: 'raw',\n          stream: new NewRelicStream()\n        }]\n      });\n    }\n  }\n\n  /**\n   * Gets certain logger by name or returns root if name isn't provided\n   * @param  { string } name - Name of the logger we want to get\n   * @return { Object } Logger of the nae we provided\n   */\n  static get(name: string): Object {\n    if (!instance) {\n      instance = new Logger();\n    }\n\n    let loggerName;\n    if (name == null) {\n      loggerName = 'root';\n    } else {\n      loggerName = name.toLowerCase();\n    }\n    return instance.loggers[loggerName];\n  }\n\n  /**\n   * Loads streams for cloudwatch\n   * @param { Object } logger - logger instance\n   * @param { string } name - name of the stream\n   * @param { Object } streamsConfig - configuration for the stream\n   */\n  loadStreams(logger: Object, name: string, streamsConfig: Object): void {\n    let streamConfig;\n    switch (name) {\n      case 'cloudwatch':\n        streamConfig = Object.assign({}, streamsConfig.get('cloudwatch'));\n        streamConfig.logStreamName += `-${process.pid}-${uuidv4()}`;\n        logger.addStream({\n          name: 'cloudwatch',\n          type: 'raw',\n          stream: createCWStream(Object.assign({}, streamConfig))\n        });\n        break;\n      default:\n        break;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/utils/logger.js","module.exports = require(\"config\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"config\"\n// module id = 2\n// module chunks = 0","// @flow\n\nexport const FATAL_ERROR: Object = {\n  status: 500,\n  code: 0,\n  category: 'IllegalStateException',\n  message: 'An error occurred. If this error persists, please contact your System Administrator'\n};\n\n/**\n * General error constructor\n * @param { string } message - Message used to construct error\n * @param { string } extra - Extra info to the error message\n * @return { Object } Error object that contains status, code, category, message and extra info\n */\nexport const GENERAL_ERROR: Function = function (message: string, extra: string = ''): Object {\n  return {\n    status: 400,\n    code: 0,\n    category: 'GeneralException',\n    message,\n    extra\n  };\n};\n\nexport const NOT_YET_IMPLEMENTED: Object = {\n  status: 501,\n  code: 1,\n  category: 'NotYetImplemented',\n  message: 'This method must be implmented'\n};\n\nexport const ILLEGAL_STATE_EXCEPTION: Object = {\n  status: 500,\n  code: 2,\n  category: 'IllegalStateException',\n  message: 'Application not configured correctly'\n};\n\nexport const NOT_AUTHORIZED: Object = {\n  status: 401,\n  code: 3,\n  category: 'SecurityException',\n  message: 'You are not authorized to access this resource'\n};\n\nexport const NOT_ALLOWED: Object = {\n  status: 403,\n  code: 4,\n  category: 'SecurityException',\n  message: 'You are not authorized to access this resource'\n};\n\nexport const MISSING_REQUIRED_PARAMETER: Object = {\n  status: 400,\n  code: 5,\n  category: 'GeneralException',\n  message: 'A required parameter was missing'\n};\n\nexport const MISSING_USERNAME_PARAMETER: Object = {\n  status: 400,\n  code: 6,\n  category: 'GeneralException',\n  message: 'The request parameter \\'username\\' is required'\n};\n\nexport const MISSING_OAUTH_TOKEN_PARAMETER: Object = {\n  status: 400,\n  code: 7,\n  category: 'GeneralException',\n  message: 'The request parameter \\'token\\' is required'\n};\n\nexport const MISSING_CLIENT_ID_PARAMETER: Object = {\n  status: 400,\n  code: 8,\n  category: 'GeneralException',\n  message: 'The request parameter \\'clientId\\' is required'\n};\n\nexport const MISSING_PROFILE_PARAMETER: Object = {\n  status: 400,\n  code: 9,\n  category: 'GeneralException',\n  message: 'The request parameter \\'profile\\' is required'\n};\n\nexport const MODEL_NOT_FOUND: Object = {\n  status: 404,\n  code: 100,\n  category: 'NotFoundException',\n  message: 'Requested model could not be found'\n};\n\nexport const CLIENT_NOT_FOUND: Object = {\n  status: 404,\n  code: 100,\n  category: 'IllegalStateException',\n  message: 'Could not find client for user'\n};\n\nexport const CLIENT_MISSING_CLIENT_URL: Object = {\n  status: 404,\n  code: 100,\n  category: 'IllegalStateException',\n  message: 'Could not find client url for user'\n};\n\nexport const USER_NOT_FOUND: Object = {\n  status: 401,\n  code: 101,\n  category: 'SecurityException',\n  message: 'Invalid user credentials'\n};\n\nexport const GOOGLE_ACCOUNT_NOT_FOUND: Object = {\n  status: 401,\n  code: 102,\n  category: 'SecurityException',\n  message: 'No ThriveHive Account found for that Google Account',\n  extra: 'Either you don\\'t have a ThriveHive Account or you have not linked your ThriveHive Account with your Google' +\n    ' Account'\n};\n\nexport const FACEBOOK_ACCOUNT_NOT_FOUND: Object = {\n  status: 401,\n  code: 103,\n  category: 'SecurityException',\n  message: 'No ThriveHive Account found for that Facebook Account',\n  extra: 'Either you don\\'t have a ThriveHive Account or you have not linked your ThriveHive Account with your ' +\n    'Facebook Account'\n};\n\nexport const INSTAGRAM_ACCOUNT_NOT_FOUND: Object = {\n  status: 401,\n  code: 104,\n  category: 'SecurityException',\n  message: 'No ThriveHive Account found for that Instagram Account',\n  extra: 'Either you don\\'t have a ThriveHive Account or you have not linked your ThriveHive Account with your ' +\n    'Instagram Account'\n};\n\nexport const TWITTER_ACCOUNT_NOT_FOUND: Object = {\n  status: 401,\n  code: 105,\n  category: 'SecurityException',\n  message: 'No ThriveHive Account found for that Twitter Account',\n  extra: 'Either you don\\'t have a ThriveHive Account or you have not linked your ThriveHive Account with your ' +\n    'Twitter Account'\n};\n\nexport const GOOGLE_ACCOUNT_NOT_LINKABLE: Object = {\n  status: 400,\n  code: 106,\n  category: 'TransactionException',\n  message: 'That Google Account is already linked to a different user'\n};\n\nexport const GOOGLE_ACCOUNT_LINKED: Object = {\n  status: 400,\n  code: 107,\n  category: 'TransactionException',\n  message: 'That Google Account is already linked to the user'\n};\n\nexport const FACEBOOK_ACCOUNT_NOT_LINKABLE: Object = {\n  status: 400,\n  code: 108,\n  category: 'TransactionException',\n  message: 'That Facebook Account is already linked to a different user'\n};\n\nexport const FACEBOOK_ACCOUNT_LINKED: Object = {\n  status: 400,\n  code: 109,\n  category: 'TransactionException',\n  message: 'That Facebook Account is already linked to the user'\n};\n\nexport const INSTAGRAM_ACCOUNT_NOT_LINKABLE: Object = {\n  status: 400,\n  code: 110,\n  category: 'TransactionException',\n  message: 'That Instagram Account is already linked to a different user'\n};\n\nexport const INSTAGRAM_ACCOUNT_LINKED: Object = {\n  status: 400,\n  code: 111,\n  category: 'TransactionException',\n  message: 'That Instagram Account is already linked to the user'\n};\n\nexport const TWITTER_ACCOUNT_EXISTS: Object = {\n  status: 400,\n  code: 110,\n  category: 'TransactionException',\n  message: 'That Twitter Account is already linked to a user'\n};\n\nexport const TWITTER_ACCOUNT_LINKED: Object = {\n  status: 400,\n  code: 111,\n  category: 'TransactionException',\n  message: 'That Twitter Account is already linked to the user'\n};\n\nexport const FACEBOOK_ACCOUNT_NOT_CONFIGURED: Object = {\n  status: 500,\n  code: 112,\n  category: 'SecurityException',\n  message: 'Google OAuth2 has not been properly configured'\n};\n\nexport const SOCIAL_OATUH_NOT_CONFIGURED: Object = {\n  status: 500,\n  code: 112,\n  category: 'SecurityException',\n  message: 'OAuth2 for that account has not been properly configured'\n};\n\nexport const MODEL_NOT_UPDATED: Object = {\n  status: 400,\n  code: 200,\n  category: 'TransactionException',\n  message: 'Update failed'\n};\n\nexport const MODEL_NOT_CREATED: Object = {\n  status: 400,\n  code: 201,\n  category: 'TransactionException',\n  message: 'Creation failed'\n};\n\n/**\n * Validation error constructor\n * @param { string } message - Message used to construct error\n * @param { string } extra - Extra info to the error message\n * @return { Object } Error object that contains status, code, category, message and extra info\n */\nexport const VALIDATION_ERROR: Function = function (message: string, extra: string = ''): Object {\n  return {\n    status: 400,\n    code: 202,\n    category: 'ValidationException',\n    message,\n    extra\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/exception/codes.js","import config from 'config';\nimport facebook from 'server/passport/facebook';\nimport google from 'server/passport/facebook';\nimport instagram from 'server/passport/facebook';\nimport local from 'server/passport/local';\nimport Logger from 'server/utils/logger';\nimport passport from 'passport';\nimport User from 'server/models/user';\n\nconst PASSPORT_CONFIG: Object = config.auth.passport;\nconst LOGGER: Object = Logger.get('auth');\n\npassport.use('facebook', facebook(PASSPORT_CONFIG.facebook));\npassport.use('google', google(PASSPORT_CONFIG.google));\npassport.use('instagram', instagram(PASSPORT_CONFIG.instagram));\npassport.use('local', local(PASSPORT_CONFIG.local));\n\n// serializeUser is used by Passport Session to convert the User object\n// to a single value that can be later deserialized back to a User object.\npassport.serializeUser((user: Object, done: Function): Promise<void> => {\n  done(null, user.id);\n});\n\n// Given the string id, return the User object back to Passport session\npassport.deserializeUser(async (id: string, done: Function): Promise<void> => {\n  try {\n    const user: Object = await User.where({ id });\n    done(null, user);\n  } catch (e) {\n    done(e);\n  }\n});\n\nexport default passport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/passport/index.js","import model from 'seraph-model';\n\n/**\n * [description]\n * @param  {[type]} driver [description]\n * @param  {[type]} name   [description]\n * @return {[type]}        [description]\n */\nexport default function (driver: Object, name: string): Object {\n  const Cls: Object = model(driver, name);\n\n  /**\n   * [description]\n   * @param  {[type]} idOrObject [description]\n   * @return {[type]}            [description]\n   */\n  Cls.exists = async function (idOrObject: string | number | Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.exists(idOrObject, (err: any, result: boolean): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(result);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} opts [description]\n   * @return {[type]}      [description]\n   */\n  Cls.findAll = async function (opts: Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.findAll(opts, (err: any, results: Array<Object>): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(results);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} data [description]\n   * @return {[type]}      [description]\n   */\n  Cls.prepare = async function (data: Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.prepare(data, (err: any, result: Object): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(result);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} root     [description]\n   * @param  {[type]} compName [description]\n   * @param  {[type]} object   [description]\n   * @return {[type]}          [description]\n   */\n  Cls.push = async function (root: string, compName: string, object: Array<Object> | Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.push(root, compName, object, (err: any, results: Array<Object>): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(results);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} query  [description]\n   * @param  {[type]} params [description]\n   * @param  {[type]} opts   [description]\n   * @return {[type]}        [description]\n   */\n  Cls.query = async function (query: string, params: Object, opts: Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.query(query, params, opts, (err: any, results: Array<Object>): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(results);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} data [description]\n   * @return {[type]}         [description]\n   */\n  Cls.read = async function (data: Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.read(data, (err: any, result: Object): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(result);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} data [description]\n   * @return {[type]}         [description]\n   */\n  Cls.save = async function (data: Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.save(data, (err: any, result: Object): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(result);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} root     [description]\n   * @param  {[type]} compName [description]\n   * @param  {[type]} objects  [description]\n   * @return {[type]}          [description]\n   */\n  Cls.saveComposition = async function (\n    root: string,\n    compName: string,\n    objects: Array<Object> | Object\n  ): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.saveComposition(root, compName, objects, (err: any, results: Array<Object>): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(results);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} data [description]\n   * @return {[type]}         [description]\n   */\n  Cls.update = async function (data: Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.update(data, (err: any, result: Object): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(result);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} data [description]\n   * @return {[type]}      [description]\n   */\n  Cls.validate = async function (data: Object): Promise<void> {\n    return new Promise((resolve: Function, reject: Function): void => {\n      return Cls.prototype.exists(data, (err: any, result: Object): void => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(result);\n      });\n    });\n  };\n\n  /**\n   * [description]\n   * @param  {[type]} predicate [description]\n   * @param  {[type]} opts      [description]\n   * @return {[type]}           [description]\n   */\n  Cls.where = function (predicate: Object, opts: Object = {}): Promise<any> {\n    return new Promise((resolve, reject) => {\n      Cls.prototype.where(predicate, opts, (err: any, result: Array<Object>) => {\n        if (err) {\n          return reject(err);\n        }\n\n        return resolve(result);\n      });\n    });\n  };\n\n  return Cls;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/seraph-adapter.js","import config from 'config';\nimport seraph from 'seraph';\n\nconst dbConfig: Object = config.auth.db;\nconst driver: Object = seraph({\n  server: dbConfig.server,\n  endpoint: dbConfig.endpoint,\n  user: dbConfig.user,\n  pass: dbConfig.password\n});\n\nexport default driver;\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/db/neo4j.js","import Logger from 'server/utils/logger';\n\nconst LOGGER: Object = Logger.get('auth');\n\n/**\n * Class representing an Exception\n * @extends Error\n */\nexport default class Exception extends Error {\n\n  category: string;\n  code: number;\n  status: number;\n  extra: any;\n\n  /**\n   * Creates new Error and assigns payload, code, category and status\n   * @param  { string|Object } payload - String or object passed to constructor to create Error\n   * @param  { number } [code = -1] - Error code\n   * @param  { number } [status = 500] - Error status\n   */\n  constructor(payload: string | Object, code: number = -1, status: number = 500) {\n\n    if (typeof payload !== 'object') {\n      payload = {\n        category: \"N/A\",\n        code,\n        message: payload,\n        status\n      };\n    }\n\n    super();\n\n    this.message = `${payload.message}${payload.extra ? `. ${payload.extra}` : ''}`;\n    this.category = payload.category;\n    this.status = payload.status;\n  }\n}\n\n/**\n * Handles auth error in case status is 401 or 403\n * @param  { * } e - Error, we expect it to have status which we check against\n * @param  { Function } done - Callback function\n */\nexport const handleAuthError = function(e: any, done: Function): void {\n  LOGGER.error(e);\n  if ('status' in e && (e.status === 401 || e.status === 403)) {\n    return done(null, false, e);\n  }\n  return done(e);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/exception/index.js","import bcrypt from 'bcrypt';\nimport config from 'config';\nimport driver from 'server/db/neo4j';\nimport Logger from 'server/utils/logger';\nimport model from 'lib/seraph-adapter';\n\nconst LOGGER: Object = Logger.get('auth');\n\n// Create the User AAA model\nconst User: Object = model(driver, 'user');\n\n/**\n *\n */\nUser.schema = {\n  email: { type: 'string', required: true, },\n  id: { type: 'number', required: true, },\n  lastPasswordUpdate: { type: 'date' },\n  password: { type: 'string', required: true, },\n  username: { type: 'string', required: true, },\n};\n\nUser.setUniqueKey('id');\nUser.setUniqueKey('username');\nUser.useTimestamps();\n\n/**\n * [description]\n * @param  {Function} next [description]\n * @return {[type]}        [description]\n */\nUser.beforeSave = async function (data: Object): void {\n  if (data.password) {\n    const hash: string = await User.hashPassword(data.password);\n    // There *may* be a case where we are rehashing a password\n    // (we really shouldn't be providing a hashed password to save or update to being with),\n    // so check to make sure the newly hashed password matches the raw password.\n    const didNeedUpdate: boolean = await User.verifyPassword(data.password, hash);\n    if (didNeedUpdate) {\n      data.password = hash;\n    }\n  }\n  return this;\n};\n\n/**\n * [description]\n * @param  {[type]} plainText [description]\n * @return {[type]}           [description]\n */\nUser.hashPassword = async function (plainText: string): string {\n  const hash: string = await bcrypt.hash(plainText, config.saltRounds);\n  return hash;\n};\n\n/**\n * [description]\n * @param  {[type]} plainText [description]\n * @return {[type]}           [description]\n */\nUser.verifyPassword = async function (plainText: string, hash: ?string = null): boolean {\n  let verified: boolean = false;\n  try {\n    const compare: string = (hash) || this.password;\n    verified = await bcrypt.compare(plainText, compare);\n  } catch (e) {\n    LOGGER.error(e);\n    verified = false;\n  }\n\n  return verified;\n};\n\nexport default User;\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/user.js","module.exports = require(\"process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"process\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 10\n// module chunks = 0","import bodyParser from 'body-parser';\nimport config from 'config';\nimport * as controllers from 'server/controllers';\nimport errorMiddleware from 'server/middleware/error';\nimport express from 'express';\nimport flash from 'connect-flash-plus';\nimport fs from 'fs';\nimport https from 'https';\nimport Logger from 'server/utils/logger';\nimport loggingMiddleware from 'server/middleware/logging';\nimport passport from 'server/passport';\nimport process from 'process';\nimport renderMiddleware from 'server/middleware/render';\nimport swaggerDefinition from 'configuration/swagger.yaml';\n// import swaggerMiddleware from 'server/middleware/swagger';\n\nimport openApi from 'lib/openApi';\n\n/**\n * [app description]\n * @type {[type]}\n */\nexport default class Server {\n  app: Function;\n  config: Object;\n  logger: Object;\n\n  /**\n   * [constructor description]\n   * @param  {[type]} void [description]\n   * @return {[type]}      [description]\n   */\n  constructor(): void {\n    this.config = config.server;\n\n    // Initialize the express server\n    this.app = express();\n\n    this.configure();\n  }\n\n  /**\n   * [logger description]\n   * @type {[type]}\n   */\n  configure(): void {\n    this.logger = Logger.get('root');\n\n    // Catches ctrl+c event\n    this.boundSigIntHandler = ::this.sigIntHandler;\n    process.on('SIGINT', this.boundSigIntHandler);\n\n    // Catches uncaught exceptions\n    this.boundUncaughtExceptionHandler = ::this.unhandledExceptionHandler;\n    process.on('uncaughtException', this.boundUncaughtExceptionHandler);\n  }\n\n  /**\n   * [destroy description]\n   * @param  {[type]} void [description]\n   * @return {[type]}      [description]\n   */\n  destroy(): void {\n    this.removeEventListeners();\n  }\n\n  /**\n   * Attach middleware to the Express app.\n   * Note: Order matters here.\n   * @param  {[type]}  void [description]\n   * @return {Promise}      [description]\n   */\n  async initMiddleware(): void {\n    // Configure Request logging\n    this.app.use(loggingMiddleware);\n\n    // Configure the Express Static middleware\n    const assetsConfig = this.config.assets;\n\n    this.app.use('/', express.static(assetsConfig.staticRoot));\n    this.app.use('/', express.static(assetsConfig.distRoot));\n\n    // Override the default rendering function\n    this.app.use(renderMiddleware);\n\n    // Initialize body parser before routes or body will be undefined\n    this.app.use(bodyParser.urlencoded({ extended: true }));\n    this.app.use(bodyParser.json());\n\n    // Add flash message capabilities\n    this.app.use(flash({ unsafe: true }));\n\n    // Configure passport.js\n    this.app.use(passport.initialize());\n    this.app.use(passport.session());\n\n    // Configure the Swagger Middleware by using Sway\n    // const swayMiddleware: Function = await swaggerMiddleware(swaggerConfig, controllers);\n    //\n    // this.app.use(swayMiddleware);\n\n    openApi(swaggerDefinition);\n\n    // Configure the request error handling\n    this.app.use(errorMiddleware);\n\n    // Default fallback to 404 if the current route could not be handled\n    this.app.all('*', (request: Object, response: Object): void => {\n      response.render('error/404');\n    });\n  }\n\n  /**\n   * [callback description]\n   * @type {Function}\n   */\n  async start(callback: Function | null = null): void {\n    if (!this.app) {\n      throw new Error('Cannot start server: the express instance is not defined');\n    }\n\n    const cb = () => {\n      if (callback != null) {\n        callback();\n      }\n\n      const message = `Server listening at ${this.config.get('hostname')}:${this.config.get('port')}...`;\n\n      this.logger.info(message);\n    };\n\n    try {\n      // Mount middleware\n      await this.initMiddleware();\n\n      return (this.config.get('secure')) ? this.startHttps(cb) : this.startHttp(cb);\n    } catch (e) {\n      if (this.logger) {\n        this.logger.error(e);\n      } else {\n        /* eslint-disable no-console */\n        console.error(e);\n      }\n      this.destroy();\n      return process.exit(-1);\n    }\n  }\n\n  /**\n   * [startHttp description]\n   * @param  {[type]} void [description]\n   * @return {[type]}      [description]\n   */\n  startHttp(callback: Function): void {\n    return this.app.listen(this.config.get('port'), this.config.get('hostname'), this.config.get('backlog'), callback);\n  }\n\n  /**\n   * [startHttps description]\n   * @param  {[type]} void [description]\n   * @return {[type]}      [description]\n   */\n  startHttps(callback: Function): void {\n    this.app.all('*', (request: Object, response: Object, next: Function): void => {\n      if (request.secure) {\n        return next();\n      }\n      return response.redirect(`https://${request.hostname}:${this.config.get('port')}${request.url}`);\n    });\n\n    const sslConfig = this.config.get('ssl');\n    const httpsConfig = Object.assign({}, sslConfig, {\n      key: fs.readFileSync(sslConfig.get('key')),\n      cert: fs.readFileSync(sslConfig.get('cert'))\n    });\n\n    return https.createServer(httpsConfig, this.app)\n      .listen(this.config.get('port'), this.config.get('hostname'), this.config.get('backlog'), callback);\n  }\n\n  /**\n   * [stop description]\n   * @param  {Function} callback [description]\n   * @return {[type]}            [description]\n   */\n  stop(callback: Function | null = null): void {\n    if (this.app && this.app.server) {\n      this.app.server.close(() => {\n        if (callback != null && typeof callback === 'function') {\n          callback();\n        }\n        this.logger.info(`Server (${this.config.hostname}:${this.config.port}) stopping...`);\n      });\n    }\n    this.destroy();\n  }\n\n  /**\n   * [sigIntHandler description]\n   * @param  {[type]} void [description]\n   * @return {[type]}      [description]\n   */\n  sigIntHandler(): void {\n    if (this.logger) {\n      this.logger.info('Captured ctrl-c');\n    }\n\n    this.stop();\n    process.exit(1);\n  }\n\n  /**\n   * [removeEventListeners description]\n   * @param  {[type]} void [description]\n   * @return {[type]}      [description]\n   */\n  removeEventListeners(): void {\n    process.removeListener('SIGINT', this.boundSigIntHandler);\n    process.removeListener('uncaughtException', this.boundUncaughtExceptionHandler);\n  }\n\n  /**\n   * [unhandledExceptionHandler description]\n   * @param  {[type]} e [description]\n   * @return {[type]}   [description]\n   */\n  unhandledExceptionHandler(e: Error): void {\n    if (this.logger) {\n      this.logger.error(`Unhandled Exception. ${e}`);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/main.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 12\n// module chunks = 0","import React from 'react';\nimport routes from 'client/routes';\n\n/**\n * \n */\nexport default class App extends React.Component {\n  render(): React$Element {\n    return (\n      <div>{routes}</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/app.js","import React from 'react';\n\n/**\n *\n */\nexport default class Error400 extends React.Component {\n  render(): React$Element {\n    return (\n      <div>400</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/error/400.js","import React from 'react';\n\n/**\n *\n */\nexport default class Error401 extends React.Component {\n  render(): React$Element {\n    return (\n      <div>401</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/error/401.js","import React from 'react';\n\n/**\n *\n */\nexport default class Error403 extends React.Component {\n  render(): React$Element {\n    return (\n      <div>403</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/error/403.js","import React from 'react';\n\n/**\n *\n */\nexport default class Error404 extends React.Component {\n  render(): React$Element {\n    return (\n      <div>404</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/error/404.js","import React from 'react';\n\n/**\n *\n */\nexport default class Error500 extends React.Component {\n  render(): React$Element {\n    return (\n      <div>500</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/error/500.js","import React from 'react';\n\n/**\n *\n */\nexport default class Login extends React.Component {\n  render(): React$Element {\n    return (\n      <div>Login!</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/login.js","import React from 'react';\n\n/**\n *\n */\nexport default class PasswordReset extends React.Component {\n  render(): React$Element {\n    return (\n      <div>Reset Password!</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/password/reset.js","import React from 'react';\n\n/**\n *\n */\nexport default class PasswordResetRequest extends React.Component {\n  render(): React$Element {\n    return (\n      <div>Reset Password Request!</div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/password/resetRequest.js","import Login from 'client/pages/login';\nimport PasswordReset from 'client/pages/password/reset';\nimport PasswordResetRequest from 'client/pages/password/resetRequest';\nimport Error400 from 'client/pages/error/400';\nimport Error401 from 'client/pages/error/401';\nimport Error403 from 'client/pages/error/403';\nimport Error404 from 'client/pages/error/404';\nimport Error500 from 'client/pages/error/500';\nimport React from 'react';\nimport {\n  Redirect,\n  Route,\n  Switch\n} from 'react-router';\n\n/**\n * [path description]\n * @type {String}\n */\n// TODO handle logged in\nexport default (\n  <Switch>\n    <Route exact path=\"/auth/login\" component={Login} />\n    <Route exact path=\"/auth/password/reset\" component={PasswordReset} />\n    <Route exact path=\"/auth/password/reset/request\" component={PasswordResetRequest} />\n    <Route exact path=\"/error/400\" component={Error400} />\n    <Route exact path=\"/error/401\" component={Error401} />\n    <Route exact path=\"/error/403\" component={Error403} />\n    <Route exact path=\"/error/404\" component={Error404} />\n    <Route exact path=\"/error/500\" component={Error500} />\n    <Redirect from=\"/auth\" to=\"/auth/login\" />\n    <Redirect from=\"/\" to=\"/auth/login\" />\n  </Switch>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/routes.js","/**\n * [description]\n * @param  {[type]} definion [description]\n * @return {[type]}          [description]\n */\nexport default function openApi(definion: Object): void {\n  console.log(definion);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/openApi.js","import passport from 'server/passport';\n\n/**\n * Calls authenticate function on passport using facebook strategy and passing scope as option\n * @type { Object }\n */\nexport const authenticateAccount = passport.authenticate('facebook', {\n  scope: ['email', 'public_profile']\n});\n\n/**\n * Calls authenticate function on passport using facebook strategy and passing redirection options\n * @type { Object }\n */\nexport const authenticateAccountCallback = passport.authenticate('facebook', {\n  failureRedirect: '/auth/facebook/connect',\n  failureFlash: true,\n});\n\n/**\n * Calls authorize function on passport using facebook strategy and passing scope as option\n * @type { Object }\n */\nexport const connectAccount = passport.authorize('facebook', {\n  scope: ['email', 'public_profile']\n});\n\n/**\n * Calls authorize function on passport using facebook strategy and passing redirection options\n * @type { Object }\n */\nexport const connectAccountCallback = passport.authorize('facebook', {\n  failureRedirect: '/auth/facebook/connect',\n  failureFlash: true,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/facebook.js","import * as client from 'server/controllers/client';\nimport * as facebook from 'server/controllers/facebook';\nimport * as google from 'server/controllers/google';\nimport * as instagram from 'server/controllers/instagram';\nimport * as login from 'server/controllers/login';\nimport * as password from 'server/controllers/password';\nimport * as user from 'server/controllers/user';\n\nexport { client, facebook, google, instagram, login, password, user };\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/index.js","import passport from 'server/passport';\n\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const login = function (request: Object, response: Object): void {\n  return response.send({ message: 'ok' });\n};\n\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const logout = function (request: Object, response: Object): void {\n  request.logout();\n  // TODO clear session and create new one\n  // TODO set flash message\n  return response.redirect('/login');\n};\n\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const render = function (request: Object, response: Object): void {\n  console.log('inside login.render function');\n  return response.render('/auth/login');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/login.js","\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const resetPassword = async function (request: Object, response: Object): Promise<void> {\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/password.js","\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const list = async function (request: Object, response: Object): Promise<void> {\n\n};\n\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const register = async function (request: Object, response: Object): Promise<void> {\n\n};\n\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const unregister = async function (request: Object, response: Object): Promise<void> {\n\n};\n\n/**\n * [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport const update = async function (request: Object, response: Object): Promise<void> {\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/user.js","// @flow\n\nimport Logger from 'server/utils/logger';\n\nconst LOGGER: Object = Logger.get('root');\n\n/**\n * [description]\n * @param  {[type]} error    [description]\n * @param  {[type]} request  [description]\n * @param  {[type]} response [description]\n * @return {[type]}          [description]\n */\nexport default function errorMiddleware(error: any, request: Object, response: Object): void {\n  const status: number = ('status' in error) ? error.status : 500;\n  const code: number = ('code' in error) ? error.code : -1;\n\n  LOGGER.error({\n    message: error.message,\n    status: error.status,\n    code: error.code,\n    app: 'auth'\n  });\n\n  console.log(response.render);\n\n  switch (status) {\n    case 400:\n      return response.render('/error/400', {\n        message: error.message,\n        code\n      });\n    case 401:\n      return response.render('/error/401', {\n        message: error.message,\n        code\n      });\n    case 403:\n      return response.render('/error/403', {\n        code\n      });\n    case 404:\n      return response.render('/error/404', {\n        code\n      });\n    default:\n      return response.render('/error/500', {\n        code\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/error.js","// @flow\n\nimport Logger from 'server/utils/logger';\n\nconst LOGGER: Object = Logger.get('root');\n\n/**\n * Class representing Logger Middleware\n * @extends AbstractMiddleware\n */\nexport default function loggingMiddleware(request: Object, response: Object, next: Function): void {\n  LOGGER.info({\n    method: request.method,\n    url: request.url,\n    headers: request.headers\n  });\n  next();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/logging.js","import App from 'client/app';\nimport es6Renderer from 'express-es6-template-engine';\nimport React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport template from 'static/index.html';\nimport { StaticRouter } from 'react-router';\n\n/**\n * [render description]\n * @param  {[type]}   request  [description]\n * @param  {[type]}   response [description]\n * @param  {Function} next     [description]\n * @return {[type]}            [description]\n */\nexport default function renderMiddleware(request: Object, response: Object, next: Function): void {\n  console.log('inside renderMiddleware');\n  // eslint-disable-next-line no-param-reassign\n  response.render = (url: string, data: Object): void => {\n    const context: Object = Object.assign({}, data);\n    const markup: string = ReactDOMServer.renderToString(\n      <StaticRouter location={url} context={context} >\n        <App />\n      </StaticRouter>\n    );\n\n    if (context.url) {\n      return response.redirect(301, context.url);\n    }\n\n    const html: string = es6Renderer(template, { locals: { app: markup } });\n\n    return response.send(html);\n  };\n  console.log(response.render);\n\n  next();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/middleware/render.js","import driver from 'server/db/neo4j';\nimport model from 'lib/seraph-adapter';\nimport { GENERAL_ERROR } from 'server/exception/codes';\n\n// Create the Facebook Account model\nconst FacebookAccount: Object = model(driver, 'facebook');\n\n/**\n *\n */\nFacebookAccount.schema = {\n  id: { type: 'string', required: true },\n  profile: { type: 'object', required: true }\n};\n\nFacebookAccount.setUniqueKey('id');\nFacebookAccount.useTimestamps();\n\n/**\n * [description]\n * @param  {[type]} user [description]\n * @return {[type]}      [description]\n */\nFacebookAccount.connect = async function (account: Object, user: Object): Promise<Object> {\n  return new Promise((resolve: Function, reject: Function): void => {\n    return driver.relate(account, 'connected', user, { to: user.id }, (err: any, relationship: Object): void => {\n      if (err) {\n        return reject(\n          GENERAL_ERROR(`Failed to link the Facebook Account ${account.id} to the user '${user.username}': ${err}`)\n        );\n      }\n\n      return resolve(relationship);\n    });\n  });\n};\n\n/**\n * [description]\n * @param  {[type]} account [description]\n * @return {[type]}         [description]\n */\nFacebookAccount.getConnectedUser = async function (account: Object): Promise<Object> {\n  return new Promise((resolve: Function, reject: Function) => {\n    return driver.relationships(account, 'all', 'connected', (err: any, relationships: Array<Object>) => {\n      if (err) {\n        return reject(err);\n      }\n\n      // We assume only one connected relationship\n      return resolve(relationships[0]);\n    });\n  });\n};\n\nexport default FacebookAccount;\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/models/facebook.js","import FacebookAccount from 'server/models/facebook';\nimport FacebookStrategy from 'passport-facebook';\nimport Exception, { handleAuthError } from 'server/exception';\nimport {\n  GENERAL_ERROR,\n  FACEBOOK_ACCOUNT_LINKED,\n  FACEBOOK_ACCOUNT_NOT_LINKABLE,\n  FACEBOOK_ACCOUNT_NOT_FOUND,\n  SOCIAL_OATUH_NOT_CONFIGURED\n} from 'server/exception/codes';\n\n/**\n * [description]\n * @param  {[type]} user    [description]\n * @param  {[type]} profile [description]\n * @return {[type]}         [description]\n */\nconst authFacebookAccount: Function = async function (user: Object, profile: Object): Promise<Object> {\n  const facebookAccount: Object = await FacebookAccount.where({ id: profile.id });\n  if (!facebookAccount) {\n    throw new Exception(FACEBOOK_ACCOUNT_NOT_FOUND);\n  }\n\n  const linkedUser: Object = FacebookAccount.getConnectedUser(facebookAccount);\n  if (!linkedUser) {\n    throw new Exception(SOCIAL_OATUH_NOT_CONFIGURED);\n  }\n\n  if (linkedUser.id !== user.id) {\n    throw new Exception(FACEBOOK_ACCOUNT_NOT_LINKABLE);\n  }\n\n  return linkedUser;\n};\n\n/**\n * [description]\n * @param  {[type]} user    [description]\n * @param  {[type]} profile [description]\n * @return {[type]}         [description]\n */\nconst connectFacebookAccount: Function = async function (user: Object, profile: Object): Promise<Object> {\n  // Check if account already exists. If it does and is currently linked, throw error\n  // If it does and is not linked, skip save\n  // otherwise, proceed\n  const id: string = profile.id;\n  let facebookAccount: Object = await FacebookAccount.where({ id });\n\n  if (!facebookAccount) {\n    facebookAccount = await FacebookAccount.save({ id: profile.id, profile });\n    if (!facebookAccount) {\n      throw new Exception(\n        GENERAL_ERROR(`Failed to link the Facebook Account ${id} to the user '${user.username}'`)\n      );\n    }\n\n    return await FacebookAccount.connect(facebookAccount, user);\n  }\n\n  const linkedUser: Object = FacebookAccount.getConnectedUser(facebookAccount);\n  if (!linkedUser) {\n    return await FacebookAccount.connect(facebookAccount, user);\n  }\n\n  if (linkedUser.id !== user.id) {\n    throw new Exception(FACEBOOK_ACCOUNT_NOT_LINKABLE);\n  }\n\n  throw new Exception(FACEBOOK_ACCOUNT_LINKED);\n};\n\n/**\n * Strategy for user authentication with Facebook\n * @param  { Object } request - Request object\n * @param  { Object } accessToken - Access token data\n * @param  { Object } refreshToken - Refresh token data\n * @param  { Object } profile - User profile data\n * @param  { Function } done - Callback\n * @return { Promise<*> } A promise that resolves by calling callback with\n *                        user data or rejects by calling util function\n *                        with provided error\n */\nconst handler = async function (\n  request: Object,\n  accessToken: string,\n  refreshToken: string,\n  profile: Object,\n  done: Function\n) {\n  try {\n    // If the user is authenticated, update/link their user data\n    const user: Object = request.user;\n    if (user) {\n      await connectFacebookAccount(user, profile);\n    } else {\n      await authFacebookAccount(user, profile);\n    }\n\n    return done(null, user);\n  } catch (e) {\n    return handleAuthError(e, done);\n  }\n};\n\n/**\n * [description]\n * @param  {[type]} config [description]\n * @return {[type]}        [description]\n */\nexport default function (config: Object): Function {\n  return new FacebookStrategy(config, handler);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/passport/facebook.js","import Exception, { handleAuthError } from 'server/exception';\nimport LocalStratgey from 'passport-local';\nimport Logger from 'server/utils/logger';\nimport User from 'server/models/user';\nimport { USER_NOT_FOUND } from 'server/exception/codes';\n\nconst LOGGER: Object = Logger.get('auth');\n\n  /**\n   * Strategy for user authentication\n   * @param  { string } username - Username in the format of an email\n   * @param  { string } password - Users password\n   * @param  { Function } done - Callback\n   * @return { Promise<*> } A promise that resolves by calling callback with\n   * user data or rejects by calling util function with provided error\n   */\nconst handler = async function (username: string, password: string, done: Function) {\n  try {\n    const user = await User.where({ username });\n    if (!user) {\n      LOGGER.warn(`User not found for username ${username}`);\n      throw new Exception(USER_NOT_FOUND);\n    }\n    const validPassword = await user.verifyPassword(password);\n    if (!validPassword) {\n      LOGGER.info(`Password validation failed for user ${username}`);\n      throw new Exception(USER_NOT_FOUND);\n    }\n    return done(null, user);\n  } catch (e) {\n    return handleAuthError(e, done);\n  }\n};\n\n/**\n * [description]\n * @param  {[type]} config [description]\n * @return {[type]}        [description]\n */\nexport default function (config: Object): Function {\n  return new LocalStratgey(config, handler);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/passport/local.js","module.exports = \"<!DOCTYPE html>\\n<html>\\n  <head></head>\\n  <body id=\\\"app\\\">${app}</body>\\n  <script src=\\\"/client.js\\\"></script>\\n</html>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/index.html\n// module id = 38\n// module chunks = 0","module.exports = {\n\t\"openapi\": \"3.0.0\",\n\t\"info\": {\n\t\t\"title\": \"Harmonize API\",\n\t\t\"description\": \"Connect, do, and harominze your life\",\n\t\t\"version\": \"1.0.0\"\n\t},\n\t\"servers\": [\n\t\t{\n\t\t\t\"url\": \"http://localhost:3000/auth\",\n\t\t\t\"description\": \"Development server\"\n\t\t}\n\t],\n\t\"paths\": {\n\t\t\"/login\": {\n\t\t\t\"get\": {\n\t\t\t\t\"x-swagger-controller\": \"login\",\n\t\t\t\t\"summary\": \"Renders the login page\",\n\t\t\t\t\"operationId\": \"render\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"200\": {\n\t\t\t\t\t\t\"description\": \"The login HTML page\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"text/html\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"summary\": \"Validates the user's username and password\",\n\t\t\t\t\"operationId\": \"login\",\n\t\t\t\t\"requestBody\": {\n\t\t\t\t\t\"description\": \"The JSON object containing the username and password\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Login\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects on a successful login\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/logout\": {\n\t\t\t\"post\": {\n\t\t\t\t\"summary\": \"Invalidates the user's session and redirects them to the login page\",\n\t\t\t\t\"operationId\": \"logout\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects on a successful logout\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/facebook\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Trigger the Facebook OAuth2 flow\",\n\t\t\t\t\"operationId\": \"auth\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects to the Facebook Account selection screen\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/facebook/callback\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Receive the result of the Facebook OAuth2 flow\",\n\t\t\t\t\"operationId\": \"callback\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects to the success or failure urls\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/google\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Trigger the Google OAuth2 flow\",\n\t\t\t\t\"operationId\": \"auth\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects to the Google Account selection screen\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/google/callback\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Receive the result of the Google OAuth2 flow\",\n\t\t\t\t\"operationId\": \"callback\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects to the success or failure urls\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/instagram\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Trigger the Instagram OAuth2 flow\",\n\t\t\t\t\"operationId\": \"auth\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects to the Instagram Account selection screen\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/instagram/callback\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Receive the result of the Instagram OAuth2 flow\",\n\t\t\t\t\"operationId\": \"callback\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"Redirects to the success or failure urls\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/password/reset\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Renders the Password Reset page\",\n\t\t\t\t\"operationId\": \"render\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"200\": {\n\t\t\t\t\t\t\"description\": \"The reset password page\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"text/html\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"summary\": \"Validates and commits the new password\",\n\t\t\t\t\"operationId\": \"resetPassword\",\n\t\t\t\t\"requestBody\": {\n\t\t\t\t\t\"description\": \"The JSON object containing the user's new password and a verification password\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/PasswordReset\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"302\": {\n\t\t\t\t\t\t\"description\": \"The password was updated\",\n\t\t\t\t\t\t\"headers\": {\n\t\t\t\t\t\t\t\"Location\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/password/reset/request\": {\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Renders the Password Reset Request page\",\n\t\t\t\t\"operationId\": \"render\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"200\": {\n\t\t\t\t\t\t\"description\": \"The Password Reset Request HTML page\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"text/html\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"summary\": \"Triggers a new Password Reset email to the provided email address if and only if the email exists in the database\\n\",\n\t\t\t\t\"operationId\": \"requestPasswordReset\",\n\t\t\t\t\"requestBody\": {\n\t\t\t\t\t\"description\": \"The JSON object containing the possibly valid user's email\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/PasswordResetRequest\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"200\": {\n\t\t\t\t\t\t\"description\": \"The request was created\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Message\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/validate\": {\n\t\t\t\"get\": {\n\t\t\t\t\"operationId\": \"validate\",\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"204\": {\n\t\t\t\t\t\t\"description\": \"The session is valid\"\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"/users/{username}\": {\n\t\t\t\"delete\": {\n\t\t\t\t\"summary\": \"Deletes the user specified by the provided username and returns a 200 if the operation was successful or 404 if no user was found by the provided username\\n\",\n\t\t\t\t\"operationId\": \"deleteUser\",\n\t\t\t\t\"parameters\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"username\",\n\t\t\t\t\t\t\"in\": \"path\",\n\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"200\": {\n\t\t\t\t\t\t\"description\": \"The user was deleted\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Message\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"404\": {\n\t\t\t\t\t\t\"description\": \"Indicates that no user was found\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Message\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"get\": {\n\t\t\t\t\"summary\": \"Returns the user specified by the username parameter, or 404 if no user could be found\",\n\t\t\t\t\"operationId\": \"getUser\",\n\t\t\t\t\"parameters\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"username\",\n\t\t\t\t\t\t\"in\": \"path\",\n\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"200\": {\n\t\t\t\t\t\t\"description\": \"The resulting user\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/SafeUser\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"404\": {\n\t\t\t\t\t\t\"description\": \"Indicates that no user was found\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Message\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"summary\": \"Creates the user specified by the username parameter with the provided data\",\n\t\t\t\t\"operationId\": \"createUser\",\n\t\t\t\t\"parameters\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"username\",\n\t\t\t\t\t\t\"in\": \"path\",\n\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"requestBody\": {\n\t\t\t\t\t\"description\": \"The JSON object containing the new user data\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/User\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"201\": {\n\t\t\t\t\t\t\"description\": \"The user was created\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Message\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"summary\": \"Updates the user specified by the username parameter with the provided data\",\n\t\t\t\t\"operationId\": \"updateUser\",\n\t\t\t\t\"parameters\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"username\",\n\t\t\t\t\t\t\"in\": \"path\",\n\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"requestBody\": {\n\t\t\t\t\t\"description\": \"The JSON object containing the new user data\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/User\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"responses\": {\n\t\t\t\t\t\"200\": {\n\t\t\t\t\t\t\"description\": \"The user was updated\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Message\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"description\": \"An error response\",\n\t\t\t\t\t\t\"content\": {\n\t\t\t\t\t\t\t\"application/json\": {\n\t\t\t\t\t\t\t\t\"schema\": {\n\t\t\t\t\t\t\t\t\t\"$ref\": \"#/components/schemas/Error\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"components\": {\n\t\t\"schemas\": {\n\t\t\t\"Error\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"code\",\n\t\t\t\t\t\"message\",\n\t\t\t\t\t\"status\"\n\t\t\t\t],\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"code\": {\n\t\t\t\t\t\t\"type\": \"integer\",\n\t\t\t\t\t\t\"format\": \"int32\"\n\t\t\t\t\t},\n\t\t\t\t\t\"message\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"status\": {\n\t\t\t\t\t\t\"type\": \"integer\",\n\t\t\t\t\t\t\"format\": \"int32\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Login\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"password\",\n\t\t\t\t\t\"username\"\n\t\t\t\t],\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"password\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"username\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Message\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"message\"\n\t\t\t\t],\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"message\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"PasswordReset\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"password\",\n\t\t\t\t\t\"verifyPassword\"\n\t\t\t\t],\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"password\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"verifyPassword\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"PasswordResetRequest\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"email\"\n\t\t\t\t],\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"email\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"User\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"email\"\n\t\t\t\t],\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"email\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"password\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"SafeUser\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"email\",\n\t\t\t\t\t\"username\"\n\t\t\t\t],\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"email\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"username\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/swagger.yaml\n// module id = 39\n// module chunks = 0","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"bunyan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bunyan\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"bunyan-cloudwatch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bunyan-cloudwatch\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"bunyan-newrelic-stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bunyan-newrelic-stream\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"connect-flash-plus\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-flash-plus\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"express-es6-template-engine\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-es6-template-engine\"\n// module id = 47\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 48\n// module chunks = 0","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 49\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 50\n// module chunks = 0","module.exports = require(\"passport-facebook\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-facebook\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 52\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 53\n// module chunks = 0","module.exports = require(\"seraph\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"seraph\"\n// module id = 54\n// module chunks = 0","module.exports = require(\"seraph-model\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"seraph-model\"\n// module id = 55\n// module chunks = 0","module.exports = require(\"uuid/v4\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid/v4\"\n// module id = 56\n// module chunks = 0"],"sourceRoot":""}